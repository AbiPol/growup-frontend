<div class="flex h-screen w-full bg-bg text-text overflow-hidden font-sans transition-colors duration-300">

  <!-- Desktop Sidebar: Hidden on mobile (md:flex) -->
  <aside
    class="hidden md:flex flex-col w-64 h-full bg-surface border-r border-brand-100 dark:border-gray-800 shadow-xl shadow-brand-500/5 z-20 relative transition-colors duration-300">
    <!-- Decorative accent -->
    <div class="absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-brand-500 to-blue-500 opacity-50"></div>
    <growup-sidebar></growup-sidebar>
  </aside>

  <!-- Mobile Sidebar Overlay (Backdrop) -->
  @if (isMobileMenuOpen) {
  <div class="fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm transition-opacity" (click)="closeMobileMenu()">
  </div>
  }

  <!-- Mobile Sidebar Drawer -->
  <aside
    class="fixed inset-y-0 left-0 w-64 bg-surface z-40 transform transition-transform duration-300 md:hidden border-r border-brand-100 dark:border-gray-800 shadow-2xl"
    [class.translate-x-0]="isMobileMenuOpen" [class.-translate-x-full]="!isMobileMenuOpen">
    <!-- Close Button inside Drawer -->
    <div class="absolute top-2 right-2 p-2">
      <button (click)="closeMobileMenu()" class="p-2 text-gray-500 hover:text-red-500 transition-colors">
        <i class="pi pi-times text-xl"></i>
      </button>
    </div>
    <growup-sidebar></growup-sidebar>
  </aside>


  <!-- Right Column -->
  <div class="flex-1 flex flex-col h-full relative overflow-hidden bg-bg">

    <!-- Header -->
    <header
      class="h-16 bg-surface shadow-sm border-b border-gray-100 dark:border-gray-800 flex items-center px-4 md:px-6 z-10 shrink-0 relative transition-colors duration-300 gap-4">

      <!-- Hamburger Button (Mobile Only) -->
      <button (click)="toggleMobileMenu()"
        class="md:hidden p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors">
        <i class="pi pi-bars text-xl"></i>
      </button>

      <growup-header class="w-full"></growup-header>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto p-4 md:p-6 scroll-smooth relative bg-surface">

      <!-- Content Container -->
      <div class="mx-auto min-h-[calc(100%-4rem)] relative z-0 pb-10 bg-bg rounded-4xl">
        <router-outlet></router-outlet>
      </div>
      <!-- Footer -->
      <growup-footer></growup-footer>
    </main>

    <growup-toast-component></growup-toast-component>
  </div>
</div>